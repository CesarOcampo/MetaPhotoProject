{"ast":null,"code":"import React,{useState,useEffect}from'react';import PhotoItem from'./PhotoItem';import Filters from'./Filters';import Pagination from'./Pagination';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PhotoList=()=>{const[photos,setPhotos]=useState([]);const[filters,setFilters]=useState({title:'',albumTitle:'',userEmail:''});const[limit,setLimit]=useState(25);const[offset,setOffset]=useState(0);const[totalPhotos,setTotalPhotos]=useState(0);useEffect(()=>{fetchPhotos();},[filters,limit,offset]);const fetchPhotos=async()=>{const query=new URLSearchParams({...filters,limit,offset}).toString();const response=await fetch(\"/externalapi/photos?\".concat(query));const data=await response.json();setPhotos(data);setTotalPhotos(data.length);};const handleFilterChange=newFilters=>{setFilters(newFilters);};const handleLimitChange=newLimit=>{setLimit(newLimit);};const handlePageChange=newOffset=>{setOffset(newOffset);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Filters,{onFilterChange:handleFilterChange}),/*#__PURE__*/_jsx(\"div\",{children:photos.map(photo=>/*#__PURE__*/_jsx(PhotoItem,{photo:photo},photo.id))}),/*#__PURE__*/_jsx(Pagination,{totalItems:totalPhotos,limit:limit,offset:offset,onLimitChange:handleLimitChange,onPageChange:handlePageChange})]});};export default PhotoList;","map":{"version":3,"names":["React","useState","useEffect","PhotoItem","Filters","Pagination","jsx","_jsx","jsxs","_jsxs","PhotoList","photos","setPhotos","filters","setFilters","title","albumTitle","userEmail","limit","setLimit","offset","setOffset","totalPhotos","setTotalPhotos","fetchPhotos","query","URLSearchParams","toString","response","fetch","concat","data","json","length","handleFilterChange","newFilters","handleLimitChange","newLimit","handlePageChange","newOffset","children","onFilterChange","map","photo","id","totalItems","onLimitChange","onPageChange"],"sources":["C:/Users/52154888/source/repos/MetaPhotoProject/ClientApp/src/components/PhotoList.jsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport PhotoItem from './PhotoItem';\r\nimport Filters from './Filters';\r\nimport Pagination from './Pagination';\r\n\r\nconst PhotoList = () => {\r\n    const [photos, setPhotos] = useState([]);\r\n    const [filters, setFilters] = useState({ title: '', albumTitle: '', userEmail: '' });\r\n    const [limit, setLimit] = useState(25);\r\n    const [offset, setOffset] = useState(0);\r\n    const [totalPhotos, setTotalPhotos] = useState(0);\r\n\r\n    useEffect(() => {\r\n        fetchPhotos();\r\n    }, [filters, limit, offset]);\r\n\r\n    const fetchPhotos = async () => {\r\n        const query = new URLSearchParams({\r\n            ...filters,\r\n            limit,\r\n            offset\r\n        }).toString();\r\n        const response = await fetch(`/externalapi/photos?${query}`);\r\n        const data = await response.json();\r\n        setPhotos(data);\r\n        setTotalPhotos(data.length); \r\n    };\r\n\r\n    const handleFilterChange = (newFilters) => {\r\n        setFilters(newFilters);\r\n    };\r\n\r\n    const handleLimitChange = (newLimit) => {\r\n        setLimit(newLimit);\r\n    };\r\n\r\n    const handlePageChange = (newOffset) => {\r\n        setOffset(newOffset);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Filters onFilterChange={handleFilterChange} />\r\n            <div>\r\n                {photos.map(photo => <PhotoItem key={photo.id} photo={photo} />)}\r\n            </div>\r\n            <Pagination\r\n                totalItems={totalPhotos}\r\n                limit={limit}\r\n                offset={offset}\r\n                onLimitChange={handleLimitChange}\r\n                onPageChange={handlePageChange}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PhotoList;\r\n"],"mappings":"AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,UAAU,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtC,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACpB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,CAAEc,KAAK,CAAE,EAAE,CAAEC,UAAU,CAAE,EAAE,CAAEC,SAAS,CAAE,EAAG,CAAC,CAAC,CACpF,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACmB,MAAM,CAAEC,SAAS,CAAC,CAAGpB,QAAQ,CAAC,CAAC,CAAC,CACvC,KAAM,CAACqB,WAAW,CAAEC,cAAc,CAAC,CAAGtB,QAAQ,CAAC,CAAC,CAAC,CAEjDC,SAAS,CAAC,IAAM,CACZsB,WAAW,CAAC,CAAC,CACjB,CAAC,CAAE,CAACX,OAAO,CAAEK,KAAK,CAAEE,MAAM,CAAC,CAAC,CAE5B,KAAM,CAAAI,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC5B,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAC,eAAe,CAAC,CAC9B,GAAGb,OAAO,CACVK,KAAK,CACLE,MACJ,CAAC,CAAC,CAACO,QAAQ,CAAC,CAAC,CACb,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,wBAAAC,MAAA,CAAwBL,KAAK,CAAE,CAAC,CAC5D,KAAM,CAAAM,IAAI,CAAG,KAAM,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAClCpB,SAAS,CAACmB,IAAI,CAAC,CACfR,cAAc,CAACQ,IAAI,CAACE,MAAM,CAAC,CAC/B,CAAC,CAED,KAAM,CAAAC,kBAAkB,CAAIC,UAAU,EAAK,CACvCrB,UAAU,CAACqB,UAAU,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAIC,QAAQ,EAAK,CACpClB,QAAQ,CAACkB,QAAQ,CAAC,CACtB,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAIC,SAAS,EAAK,CACpClB,SAAS,CAACkB,SAAS,CAAC,CACxB,CAAC,CAED,mBACI9B,KAAA,QAAA+B,QAAA,eACIjC,IAAA,CAACH,OAAO,EAACqC,cAAc,CAAEP,kBAAmB,CAAE,CAAC,cAC/C3B,IAAA,QAAAiC,QAAA,CACK7B,MAAM,CAAC+B,GAAG,CAACC,KAAK,eAAIpC,IAAA,CAACJ,SAAS,EAAgBwC,KAAK,CAAEA,KAAM,EAAvBA,KAAK,CAACC,EAAmB,CAAC,CAAC,CAC/D,CAAC,cACNrC,IAAA,CAACF,UAAU,EACPwC,UAAU,CAAEvB,WAAY,CACxBJ,KAAK,CAAEA,KAAM,CACbE,MAAM,CAAEA,MAAO,CACf0B,aAAa,CAAEV,iBAAkB,CACjCW,YAAY,CAAET,gBAAiB,CAClC,CAAC,EACD,CAAC,CAEd,CAAC,CAED,cAAe,CAAA5B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}